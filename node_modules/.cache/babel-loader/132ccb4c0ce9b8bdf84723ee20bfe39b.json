{"ast":null,"code":"import _defineProperty from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/root/Bureau/my-shop/src/components/Ajout.jsx\";\n\nimport React, { useState } from 'react';\nimport { MDBRow, MDBCol } from \"mdbreact\";\nimport './Ajout.css';\nimport Upload from './drop';\n\nvar Ajout = function Ajout(props) {\n  state = {\n    file: '',\n    imagePreviewUrl: ''\n  };\n  var initialFormState = {\n    id: null,\n    nom: '',\n    prix: '',\n    desc: '',\n    fich: ''\n  };\n\n  var _useState = useState(initialFormState),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var handleInputChange = function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setProduct(_objectSpread({}, product, _defineProperty({}, name, value)));\n  };\n\n  _handleImageChange = function _handleImageChange(e) {\n    e.preventDefault();\n    var reader = new FileReader();\n    var file = e.target.files[0];\n\n    reader.onloadend = function () {\n      _this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      if (!product.nom || !product.prix || !product.desc || !product.fich) return;\n\n      if (isNaN(product.prix)) {\n        document.getElementById(\"erreur\").innerHTML = \"Entrer un nombre\";\n      } else {\n        document.getElementById(\"erreur\").innerHTML = \"\";\n        props.addProduct(product);\n        props.setCount(props.count + 1);\n        setProduct(initialFormState);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(MDBRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(MDBCol, {\n    md: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \" \"), React.createElement(MDBCol, {\n    md: \"6\",\n    style: {\n      border: \"1px solid black\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Produit\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \" \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"nom\",\n    value: product.nom,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), \" \")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Prix\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \" \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"prix\",\n    value: product.prix,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    id: \"erreur\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), \" \")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    name: \"desc\",\n    rows: \"5\",\n    value: product.desc,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    id: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \" File\", React.createElement(\"input\", {\n    type: \"file\",\n    name: \"fich\",\n    value: product.fich,\n    onChange: _this._handleImageChange,\n    accept: \".png, .jpg, .jpeg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))))), React.createElement(\"button\", {\n    id: \"bout\",\n    className: \"btn btn-primary btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"A\", React.createElement(\"span\", {\n    id: \"tex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"jouter\")), React.createElement(Upload, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(MDBCol, {\n    md: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \" \")));\n};\n\nexport default Ajout;","map":{"version":3,"sources":["/root/Bureau/my-shop/src/components/Ajout.jsx"],"names":["React","useState","MDBRow","MDBCol","Upload","Ajout","props","state","file","imagePreviewUrl","initialFormState","id","nom","prix","desc","fich","product","setProduct","handleInputChange","event","target","name","value","_handleImageChange","e","preventDefault","reader","FileReader","files","onloadend","setState","result","readAsDataURL","isNaN","document","getElementById","innerHTML","addProduct","setCount","count","border"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { MDBRow, MDBCol } from \"mdbreact\";\nimport './Ajout.css'\nimport Upload from './drop'\n\nvar Ajout = props => {\n\n    state = {\n        file: '',\n        imagePreviewUrl: ''\n    };\n    \n\tconst initialFormState = { id: null, nom: '', prix: '', desc: '', fich: '' }\n\tconst [ product, setProduct ] = useState(initialFormState)\n\n\tconst handleInputChange = event => {\n\t\tconst { name, value } = event.target\n\t\tsetProduct({ ...product, [name]: value })\n    }\n    \n    _handleImageChange = e =>{\n        e.preventDefault();\n  \n        let reader = new FileReader();\n        let file = e.target.files[0];\n        reader.onloadend = () => {\n            this.setState({ file: file, imagePreviewUrl: reader.result });\n        }\n        reader.readAsDataURL(file)\n    }\n\n\treturn (\n            <form \n                onSubmit={event => {\n                    event.preventDefault()\n                    \n                    if (!product.nom || !product.prix || !product.desc || !product.fich) return\n                        if (isNaN(product.prix)){\n                            document.getElementById(\"erreur\").innerHTML=\"Entrer un nombre\"\n                        }else{\n                            document.getElementById(\"erreur\").innerHTML=\"\"\n                            props.addProduct(product)\n                            props.setCount(props.count +1)\n                            setProduct(initialFormState)\n                        }\t\t\t\t\n                }}\n            >\n                <MDBRow>\n                    <MDBCol md=\"3\"> </MDBCol>\n                    <MDBCol md=\"6\" style={{ border: \"1px solid black\"}}>\n                        \n                        <table>\n                            <tbody>\n                            <tr>\n                                <td>Produit</td>\n                                <td> <input type=\"text\" name=\"nom\" value={product.nom} onChange={handleInputChange}/> </td>\n                            </tr>\n                            <tr>\n                                <td>Prix</td>\n                                <td> <input type=\"text\" name=\"prix\" value={product.prix} onChange={handleInputChange}/><span id=\"erreur\"/> </td>\n                            </tr>\n                            <tr>\n                                <td >Description</td>\n                                <td><textarea name=\"desc\" rows=\"5\" value={product.desc} onChange={handleInputChange}></textarea></td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                \n                                <td><label id=\"\"> File<input type=\"file\" name=\"fich\" value={product.fich} onChange={this._handleImageChange} accept=\".png, .jpg, .jpeg\"/></label></td>\n                            </tr>  \n                            </tbody>                         \n                        </table><button id=\"bout\" className=\"btn btn-primary btn-block\">A<span id=\"tex\">jouter</span></button>\n                        <Upload />\n                    </MDBCol>\n                    <MDBCol md=\"3\"> </MDBCol>\n                </MDBRow>\n            </form>\n\t)\n}\n\n\n\nexport default Ajout;"]},"metadata":{},"sourceType":"module"}