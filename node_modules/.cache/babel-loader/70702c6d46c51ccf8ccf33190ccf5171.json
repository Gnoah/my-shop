{"ast":null,"code":"import _classCallCheck from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/root/Bureau/my-shop/src/components/drop.jsx\";\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\nvar CLOUDINARY_UPLOAD_PRESET = 'your_upload_preset_id';\nvar CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/your_cloudinary_app_name/upload';\n\nvar ContactForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContactForm, _React$Component);\n\n  function ContactForm(props) {\n    var _this;\n\n    _classCallCheck(this, ContactForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContactForm).call(this, props));\n    _this.state = {\n      uploadedFileCloudinaryUrl: ''\n    };\n    return _this;\n  }\n\n  _createClass(ContactForm, [{\n    key: \"onImageDrop\",\n    value: function onImageDrop(files) {\n      this.setState({\n        uploadedFile: files[0]\n      });\n      this.handleImageUpload(files[0]);\n    }\n  }, {\n    key: \"handleImageUpload\",\n    value: function handleImageUpload(file) {\n      var _this2 = this;\n\n      var upload = request.post(CLOUDINARY_UPLOAD_URL).field('upload_preset', CLOUDINARY_UPLOAD_PRESET).field('file', file);\n      upload.end(function (err, response) {\n        if (err) {\n          console.error(err);\n        }\n\n        if (response.body.secure_url !== '') {\n          _this2.setState({\n            uploadedFileCloudinaryUrl: response.body.secure_url\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"FileUpload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Dropzone, {\n        multiple: false,\n        accept: \"image/*\",\n        onDrop: this.onImageDrop.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Drop an image or click to select a file to upload.\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.state.uploadedFileCloudinaryUrl === '' ? null : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.uploadedFile.name), React.createElement(\"img\", {\n        src: this.state.uploadedFileCloudinaryUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ContactForm;\n}(React.Component);\n\n;\nexport default ContactForm;","map":{"version":3,"sources":["/root/Bureau/my-shop/src/components/drop.jsx"],"names":["React","Dropzone","request","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_UPLOAD_URL","ContactForm","props","state","uploadedFileCloudinaryUrl","files","setState","uploadedFile","handleImageUpload","file","upload","post","field","end","err","response","console","error","body","secure_url","onImageDrop","bind","name","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,IAAMC,wBAAwB,GAAG,uBAAjC;AACA,IAAMC,qBAAqB,GAAG,iEAA9B;;IAEMC,W;;;;;AAEF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,yBAAyB,EAAE;AADhB,KAAb;AAHe;AAMhB;;;;gCAEWC,K,EAAO;AACjB,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,KAAK,CAAC,CAAD;AADP,OAAd;AAIA,WAAKG,iBAAL,CAAuBH,KAAK,CAAC,CAAD,CAA5B;AACD;;;sCAEiBI,I,EAAM;AAAA;;AACtB,UAAIC,MAAM,GAAGZ,OAAO,CAACa,IAAR,CAAaX,qBAAb,EACQY,KADR,CACc,eADd,EAC+Bb,wBAD/B,EAEQa,KAFR,CAEc,MAFd,EAEsBH,IAFtB,CAAb;AAIAC,MAAAA,MAAM,CAACG,GAAP,CAAW,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC5B,YAAID,GAAJ,EAAS;AACPE,UAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACD;;AAED,YAAIC,QAAQ,CAACG,IAAT,CAAcC,UAAd,KAA6B,EAAjC,EAAqC;AACnC,UAAA,MAAI,CAACb,QAAL,CAAc;AACZF,YAAAA,yBAAyB,EAAEW,QAAQ,CAACG,IAAT,CAAcC;AAD7B,WAAd;AAGD;AACF,OAVD;AAWD;;;6BAEQ;AAEL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACN,QAAA,QAAQ,EAAE,KADJ;AAEN,QAAA,MAAM,EAAC,SAFD;AAGN,QAAA,MAAM,EAAE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAJM,CADF,CADE,EAUF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKlB,KAAL,CAAWC,yBAAX,KAAyC,EAAzC,GAA8C,IAA9C,GACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKD,KAAL,CAAWI,YAAX,CAAwBe,IAA5B,CADF,EAEE;AAAK,QAAA,GAAG,EAAE,KAAKnB,KAAL,CAAWC,yBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,CAVE,CADF;AAqBH;;;;EA3DmBR,KAAK,CAAC2B,S;;AA4D3B;AAEJ,eAAetB,WAAf","sourcesContent":["import React from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n\nconst CLOUDINARY_UPLOAD_PRESET = 'your_upload_preset_id';\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/your_cloudinary_app_name/upload';\n\nclass ContactForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          uploadedFileCloudinaryUrl: ''\n        };\n      }\n\n      onImageDrop(files) {\n        this.setState({\n          uploadedFile: files[0]\n        });\n    \n        this.handleImageUpload(files[0]);\n      }\n\n      handleImageUpload(file) {\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\n                            .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n                            .field('file', file);\n    \n        upload.end((err, response) => {\n          if (err) {\n            console.error(err);\n          }\n    \n          if (response.body.secure_url !== '') {\n            this.setState({\n              uploadedFileCloudinaryUrl: response.body.secure_url\n            });\n          }\n        });\n      }\n\n      render() {\n        \n          return(\n            <div>\n          <div className=\"FileUpload\">\n            <Dropzone\n\t\t    multiple={false}\n\t\t    accept=\"image/*\"\n\t\t    onDrop={this.onImageDrop.bind(this)}>\n\t\t    <p>Drop an image or click to select a file to upload.</p>\n            </Dropzone>\n          </div>\n    \n          <div>\n            {this.state.uploadedFileCloudinaryUrl === '' ? null :\n            <div>\n              <p>{this.state.uploadedFile.name}</p>\n              <img src={this.state.uploadedFileCloudinaryUrl} />\n            </div>}\n          </div>\n        </div>\n          )\n        \n      }\n    };\n\n export default ContactForm;"]},"metadata":{},"sourceType":"module"}