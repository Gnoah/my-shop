{"ast":null,"code":"import _classCallCheck from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/root/Bureau/my-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/root/Bureau/my-shop/src/components/upload.jsx\";\nimport React, { Component } from 'react';\nimport { storage } from '../Firebase/index';\n\nvar Images =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Images, _Component);\n\n  function Images(props) {\n    var _this;\n\n    _classCallCheck(this, Images);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Images).call(this, props));\n\n    _this.handlerChange = function (e) {\n      if (e.target.files[0]) {\n        var image = _this.target.files[0];\n\n        _this.setState(function () {\n          return {\n            image: image\n          };\n        });\n      }\n    };\n\n    _this.handlerUpload = function () {\n      var image = _this.state.image;\n      var uploadTask = storage.ref('images/${image.name}').put(image);\n      uploadTask.on('state_changed', function (snapshot) {\n        var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n        _this.setState({\n          progress: progress\n        });\n      }, function (error) {\n        console.log(error);\n      }, function () {\n        storage.ref('image').child(image.name).getDownloadURL().then(function (url) {\n          console.log(url);\n\n          _this.setState({\n            url: url\n          });\n        });\n      });\n    };\n\n    _this.state = {\n      image: null,\n      url: '',\n      progress: 0\n    };\n    _this.handlerChange = _this.handlerChange.bind(_assertThisInitialized(_this));\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Images, [{\n    key: \"render\",\n    value: function render() {\n      var style = {\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'colomn',\n        alighItems: 'center',\n        justifyContent: 'center'\n      };\n      return React.createElement(\"div\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"progress\", {\n        value: this.state.progress,\n        max: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handlerChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"upload\"), React.createElement(\"img\", {\n        src: this.state.url,\n        alt: \"Uploaded images\",\n        height: \"300\",\n        width: \"400\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Images;\n}(Component);\n\nexport default Images;","map":{"version":3,"sources":["/root/Bureau/my-shop/src/components/upload.jsx"],"names":["React","Component","storage","Images","props","handlerChange","e","target","files","image","setState","handlerUpload","state","uploadTask","ref","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","console","log","child","name","getDownloadURL","then","url","bind","handleUpload","style","height","display","flexDirection","alighItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { storage } from '../Firebase/index'\n\n\nclass Images extends Component {\n    constructor(props){\n        super(props);\n        this.state ={\n            image: null,\n            url: '',\n            progress: 0\n        }\n        this.handlerChange = this.handlerChange.bind(this);\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    handlerChange = e => {\n        if( e.target.files [0] ) {\n            const image = this.target.files[0];\n            this.setState(() => ({image}));\n        }\n    }\n\n    handlerUpload = () => {\n        const {image} = this.state;\n        const uploadTask = storage.ref('images/${image.name}').put(image);\n        uploadTask.on('state_changed',\n        (snapshot) => { \n            const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes)* 100);\n            this.setState({progress});  \n        },\n        (error) => {\n            console.log(error)\n        },\n        () => {\n            storage.ref('image').child(image.name).getDownloadURL().then( url => {\n                console.log(url);\n                this.setState({url});                \n            })\n        });\n    }\n\n\n    render(){\n        const style = {\n            height: '100vh',\n            display: 'flex',\n            flexDirection: 'colomn',\n            alighItems: 'center',\n            justifyContent: 'center'\n        };\n\n        return(\n            <div style = {style}>\n            <progress value={this.state.progress} max=\"100\" />\n            <br/>\n                <input type=\"file\" onChange={this.handlerChange} />\n                <button onClick={this.handleUpload}>upload</button>\n                <img src={this.state.url} alt=\"Uploaded images\" height=\"300\" width=\"400\" />\n            </div>\n        )\n} \n}\n\nexport default Images;"]},"metadata":{},"sourceType":"module"}